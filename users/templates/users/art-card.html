{% load static %}

{% block style %}
<link rel="stylesheet" type="text/css" href="{% static 'css/profile-art-card.css' %}">
{% endblock %}

<div class="profile-card-container">
    <div class='save-icon'>
        <i class="fas fa-ellipsis-v"></i>
    </div>
    <div class='gallery-list'>
        <ul>
        {% block settings %}
            
        {% endblock %}
            <p class='title-label'>Save to a gallery</p>
            {% for gallery_choice in user.galleries.all %}
                    {% if art in gallery_choice.artworks.all %}

                    <p class='already-saved-gallery'>Saved in {{ gallery_choice }}</p>
                {% else %}
                    {% block link %}
                        <a class='gallery' href="{% url 'galleries:add_artwork' art.id gallery_choice.id %}?next={% url 'users:profile' visited_user %}">{{ gallery_choice }}</a>
                    {% endblock %}
                {% endif %}
            {% endfor %}
        </ul>
    </div>
    <a href="{% url 'artworks:view' art.id %}"><img src="{{ art.thumbnail.url }}"></a>
    <p class='art-title'>{{ art.title }}</p>
    <p class="likes-counter">{{ art.likes.count }} Likes</p>
    {% if art.uploader.username == user.username %}
        <p class='btn-edit'>Edit</p>
    {% else %}
        {% block like %}
            {% if user in art.likes.all %}                         
                <a href="{% url 'artworks:like' art.id %}?next={% url 'users:profile' visited_user %}"><p class='btn-edit'>Unlike</p></a>
            {% else %}
                <a href="{% url 'artworks:like' art.id %}?next={% url 'users:profile' visited_user %}"><p class='btn-edit'>Like</p></a>
            {% endif %}
        {% endblock %}
    {% endif %}
</div>